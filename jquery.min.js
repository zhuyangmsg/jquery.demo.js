(function(window){
    let create = function(str){
        if(typeof str == 'string'){
            let chat = str[0]
            let ele = null;
            if(chat=='#'){
                ele = [document.getElementById(str.substring(1))];
            }else if(chat=='.'){
                ele = document.querySelectorAll(str);
            }else{
                throw new Error('Enter a correct character string');
            }
            return new CommonFun(ele);
        }
    };
    function CommonFun(ele){
        this.ele = ele;
    }
    CommonFun.prototype = {
        each(callback){
            for(let i=0;i<this.ele.length;i++){
                callback(i,this.ele[i])
            }
        },
        find(str){
            let findArray = [];
            this.each(function(idx ,item){
                for(let i=0;i<item.children.length;i++){
                    const array3 = findArray.concat(Array.from(item.children[i].querySelectorAll(str)));
                    findArray = array3
                }
            });
            return new CommonFun(findArray);
        },
        eq(idx){
            let ele = [this.ele[idx]];
            return new CommonFun(ele);
        },
        remove(){
            this.each(function(idx ,item){
                item.parentNode && item.parentNode.removeChild(item);
            })
            return new CommonFun([])
        },
        text(cont){
            this.each(function(idx ,item){
                item.textContent = cont;
            })
            return new CommonFun(this.ele)
        },
        css(attr, value){
            this.each(function(idx ,item){
                item.style[attr] = value;
            })
            return new CommonFun(this.ele)
        }
    }
    window.$ = window.jQuery = create;
})(window)